<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Browses available metadata, to catergorise or label each variable in a dataset ‚Ä¢ browseMetadata</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Browses available metadata, to catergorise or label each variable in a dataset">
<meta name="description" content="See https://github.com/aim-rsf/browseMetadata/main/README.md">
<meta property="og:description" content="See https://github.com/aim-rsf/browseMetadata/main/README.md">
<script defer data-domain="pkgdown.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">browseMetadata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/browseMetadata.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="browsemetadata">browseMetadata<a class="anchor" aria-label="anchor" href="#browsemetadata"></a>
</h1></div>
<!-- ALL-CONTRIBUTORS-BADGE:START - Do not remove or modify this section -->
<p><a href="#contributors-"><img src="https://img.shields.io/badge/all_contributors-4-orange.svg?style=flat-square" alt="All Contributors"></a> <!-- ALL-CONTRIBUTORS-BADGE:END --></p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></p>
<p><a href="https://doi.org/10.5281/zenodo.10581500" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10581500.svg" alt="DOI"></a></p>
<p>This <code>R</code> package was created to help a researcher browse the health datasets in <a href="https://saildatabank.com" class="external-link">SAIL databank</a>. It has scope to be applied to other health datasets. It is intended to be useful in the earlier stages of a project. When a research team has not yet got access to the data they can still browse the metadata, and address such questions as:</p>
<p><span class="emoji" data-emoji="question">‚ùì</span> what datasets are available?</p>
<p><span class="emoji" data-emoji="question">‚ùì</span> what datasets do I need for my research question?</p>
<p><span class="emoji" data-emoji="question">‚ùì</span> which variables within these datasets map onto my research domains of interest? (e.g.¬†socioeconomic factors, childhood adverse events, medical diagnoses, culture and community)</p>
<p>There are many existing tools that allow you to browse metadata for health datasets, read more <a href="https://aim-rsf.github.io/browseMetadata/articles/browseMetadata.html">here</a>.</p>
<div class="section level2">
<h2 id="what-is-the-browsemetadata-package">What is the <code>browseMetadata</code> package?<a class="anchor" aria-label="anchor" href="#what-is-the-browsemetadata-package"></a>
</h2>
<p>This <code>R</code> package is a planning tool, designed to be used alongside other tools and sources of information about health datasets for research. For many health datasets, including SAIL, the metadata is publicly available. This <code>R</code> package uses the <a href="https://web.www.healthdatagateway.org/search?search=&amp;datasetSort=latest&amp;tab=Datasets" class="external-link">Health Data Research Gateway</a> and the connected <a href="https://modelcatalogue.cs.ox.ac.uk/hdruk_live/" class="external-link">Metadata Catalogue</a>. This <code>R</code> package takes a metadata file as input and facilitates the process of browsing through each table within a chosen dataset. The user is asked to categorise each data element (variable) within a table into a domain related to their research question, and these categorisations get saved in a csv file for later reference.</p>
<p>To speed up this process, the function automatically categorises some variables that regularly appear in health datasets (e.g.¬†ID, Sex, Age). The function also accounts for the same data element appearing in multiple tables across a dataset, and allows the user to active a table copying function which copies categorisations they‚Äôve done for one table, onto the current table they are processing.</p>
<p>üöß <span class="emoji" data-emoji="warning">‚ö†Ô∏è</span> This package is in early development, and has only been tested on a limited number of metadata files. In theory, this package should work for any dataset listed on the Health Data Research Gateway (not just SAIL) as long as a json metadata file can be downloaded. In practice, it has only been tested on a limited number of metadata files for SAIL databank.</p>
</div>
<div class="section level2">
<h2 id="getting-started-with-browsemetadata">Getting started with <code>browseMetadata</code>
<a class="anchor" aria-label="anchor" href="#getting-started-with-browsemetadata"></a>
</h2>
<div class="section level3">
<h3 id="terminology">Terminology<a class="anchor" aria-label="anchor" href="#terminology"></a>
</h3>
<ul>
<li>We use <em>Dataset</em> (collection of data, can contain multiple tables) - this is called <em>Data Asset</em> in the Metadata Catalogue</li>
<li>We use <em>Table</em> - this is called <em>Data Class</em> in the Metadata Catalogue</li>
<li>We use <em>Data Element</em> - the same as the Metadata Catalogue - which refers to each variable name within the table</li>
</ul>
</div>
<div class="section level3">
<h3 id="install">Install<a class="anchor" aria-label="anchor" href="#install"></a>
</h3>
<p>Run in the R console:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"aim-rsf/browseMetadata"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="demo-use-r-studio">Demo (use R Studio)<a class="anchor" aria-label="anchor" href="#demo-use-r-studio"></a>
</h3>
<p>Load the library:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://aim-rsf.github.io/browseMetadata/">browseMetadata</a></span><span class="op">)</span></span></code></pre></div>
<p>Read the documentation:</p>
<pre><code><span><span class="op">?</span><span class="va">domain_mapping</span></span></code></pre>
<p>Set your working directory to be an empty folder you just created:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/your-username/test-browseMetadata"</span><span class="op">)</span></span></code></pre>
<p>Run the function in demo mode:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/domain_mapping.html">domain_mapping</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Take note of the <strong>Plots</strong> tab in R Studio which should show a table of domains with this info:</p>
<ul>
<li>[0] <em>NO MATCH / UNSURE</em>
</li>
<li>[1] <em>METADATA</em>
</li>
<li>[2] <em>ID</em>
</li>
<li>[3] <em>DEMOGRAPHICS</em>
</li>
<li>[4] Socioeconomic info</li>
<li>[5] Location info</li>
<li>[6] Education info</li>
<li>[7] Health info</li>
</ul>
<p>Reference this Plots tab throughout the demo run. You will be asked to label data elements with one (or more) of these numbers [0-7].</p>
<p>Here we have very simple domains [4-7] for the demo run.</p>
<p>For a research study, your domains are likely to be much more specific e.g.¬†‚ÄòPrenatal, antenatal, neonatal and birth‚Äô or ‚ÄòHealth behaviours and diet‚Äô.</p>
<p>The 4 default domains are always included [0-3], appended on to any domain list given.</p>
<pre><code>‚Ñπ Running domain_mapping in demo mode using package data files
‚Ñπ Using the default look-up table in data/look-up.rda

Enter your initials: RS</code></pre>
<p>Respond with your initials after the prompt and press enter. It will then print the name of the dataset and where it was retrieved from:</p>
<pre><code>‚îÄ‚îÄ Dataset Name ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
National Community Child Health Database (NCCHD)

‚îÄ‚îÄ Dataset Last Updated ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
2024-03-14T17:40:57.463Z

‚îÄ‚îÄ Dataset File Exported By ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Rachael Stickland at 2024-04-05T13:01:23.109Z

Would you like to read a description of the dataset? (y/n): y</code></pre>
<p>Enter Y after the prompt to read the description, for the purpose of the demo.</p>
<p>After reading the description of this dataset it will show:</p>
<pre><code>‚Ñπ Found 13 Tables in this Dataset

1 EXAM

2 CHILD

3 REFR_IMM_VAC

4 IMM

5 BREAST_FEEDING

6 PATH_BLOOD_TESTS

7 CHE_HEALTHYCHILDWALESPROGRAMME

8 BLOOD_TEST

9 CHILD_TRUST

10 PATH_SPCM_DETAIL

11 CHILD_MEASUREMENT_PROGRAM

12 CHILD_BIRTHS

13 SIG_COND

‚Ñπ Enter each table number you want to process in this interactive session.

1: 2
2:
</code></pre>
<p>For the purpose of this demo, type 2 to just process the CHILD table only. Leave the prompt on the second row blank and press enter.</p>
<p>To process multiple tables at once (e.g.¬†CHILD, SIG_COND) include their numbers on multiple lines:</p>
<pre><code>‚Ñπ Enter each table number you want to process in this interactive session.

1: 1
2: 13
3:</code></pre>
<p>It will then ask if you want to read a description of this table:</p>
<pre><code>‚Ñπ Processing Table 2 of 13

‚îÄ‚îÄ Table Name ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
CHILD

‚îÄ‚îÄ Table Last Updated ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
2024-03-14T17:40:46.509Z

Would you like to read a description of the table? (y/n): y</code></pre>
<p>Enter Y after the prompt to read the description, for the purpose of the demo.</p>
<p>You can provide an optional free text note about this table, this will be saved in the log file.</p>
<p>It will now start looping through the data elements. If it skips over one it means it was auto-categorised or copied from a previous table already processed (more on that later).</p>
<p>For this demo, it will only process 20 data elements (out of the 35 total).</p>
<pre><code>
‚Ñπ 20 left to process in this session
‚úî Processing data element 1 of 35

‚Ñπ 19 left to process in this session
‚úî Processing data element 2 of 35

‚Ñπ 18 left to process in this session
‚úî Processing data element 3 of 35

‚Ñπ 17 left to process in this session
‚úî Processing data element 4 of 35

DATA ELEMENT -----&gt;  APGAR_1

DESCRIPTION -----&gt;  APGAR 1 score. This is a measure of a baby's physical state at birth with particular reference to asphyxia - taken at 1 minute. Scores 3 and below are generally regarded as critically low; 4-6 fairly low, and 7-10 generally normal. Field can contain high amount of unknowns/non-entries.

DATA TYPE -----&gt;  CHARACTER

Categorise data element into domain(s). E.g. 3 or 3,4: 7

Categorisation note (or press enter to continue): your note here
</code></pre>
<p>We chose to respond with ‚Äò7‚Äô because that corresponds to the ‚ÄòHealth info‚Äô domain in the table. More than one domain can be chosen.</p>
<p>A note can be included to explain why a categorisation has been made. Or press enter for no note.</p>
<p>You have the option to re-do the categorisation you just made, by replying ‚Äòy‚Äô to the question:</p>
<pre><code>Response to be saved is '7'. Would you like to re-do? (y/n): y</code></pre>
<p>After completing 20, it will then ask you to review the auto-categorisations it made.</p>
<p>These auto-categorisations are based on the mappings included in the <a href="data-raw/look_up.csv">data-raw/look_up.csv</a>. This look-up file can be changed (see the section ‚ÄòUsing your own input files‚Äô below). ALF refers to ‚ÄòAnonymous Linking Field‚Äô - this field is used within datasets that have been anonymised and encrypted for inclusion within SAIL Databank.</p>
<pre><code>! Please check the auto categorised data elements are accurate for table CHILD:

     DataElement    Domain_code  Note
1    ALF_E          2            AUTO CATEGORISED
2    ALF_MTCH_PCT   2            AUTO CATEGORISED
3    ALF_STS_CD     2            AUTO CATEGORISED
6    AVAIL_FROM_DT  1            AUTO CATEGORISED
19   GNDR_CD        3            AUTO CATEGORISED

‚Ñπ Press enter to accept the auto categorisations for table CHILD or enter each row you'd like to edit:

1: </code></pre>
<p>Press enter for now. It will then ask you if you want to review the categorisations you made. Respond Y to review:</p>
<pre><code>Would you like to review your categorisations? (y/n): y

      DataElement             Domain_code   Note (first 12 chars)
4     APGAR_1                 7
5     APGAR_2                 7
7     BIRTH_ORDER             7             10% missingness
8     BIRTH_TM                1,7           20% missingness
9     BIRTH_WEIGHT            7
10    BIRTH_WEIGHT_DEC        7
11    BREASTFEED_8_WKS_FLG    7
12    BREASTFEED_BIRTH_FLG    7
13    CHILD_ID_E              2
14    CURR_LHB_CD_BIRTH       5,7           Place of birth
15    DEL_CD                  7
16    DOD                     3,7
17    ETHNIC_GRP_CD           3
18    GEST_AGE                3,7
20    HEALTH_VISITOR_CD_E     2

‚Ñπ Press enter to accept your categorisations for table CHILD, or enter each row number you'd like to edit:

1: 8
2: 14
3: </code></pre>
<p>If you want to change your categorisation, enter in the row number (e.g.¬†8 for BIRTH_TM and 14 for CURR_LHB_CD_BIRTH).</p>
<p>It will then take you through the same process as before, and you can over-write your previous categorisation.</p>
<p>All finished! Take a look at the outputs:</p>
<pre><code>‚úî Your final categorisations have been saved:
OUTPUT_NationalCommunityChildHealthDatabase(NCCHD)_CHILD_2024-04-05-14-37-36.csv
‚úî Your session log has been saved:
LOG_NationalCommunityChildHealthDatabase(NCCHD)_CHILD_2024-04-05-14-37-36.csv
‚úî A summary plot has been saved:
PLOT_NationalCommunityChildHealthDatabase(NCCHD)_CHILD_2024-04-05-14-37-36.png</code></pre>
<p>The OUTPUT csv contains the categorisations you made. The LOG csv contains information about the session as a whole, including various metadata. These two csv files contain the same timestamp column. The PLOT png file saves a simple plot displaying the count of domain codes for that table.</p>
</div>
<div class="section level3">
<h3 id="using-your-own-input-files">Using your own input files<a class="anchor" aria-label="anchor" href="#using-your-own-input-files"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/domain_mapping.html">domain_mapping</a></span><span class="op">(</span><span class="va">json_file</span>, <span class="va">domain_file</span>, <span class="va">look_up_file</span>, <span class="va">output_dir</span>, <span class="va">table_copy</span><span class="op">)</span></span></code></pre></div>
<p>This code is in early development. To see known bugs or sub-optimal features refer to the <a href="https://github.com/aim-rsf/browseMetadata/issues" class="external-link">Issues</a>.</p>
<p>First, change the json file and domain file inputs. Later, consider changing the other 3 inputs, depending on your use-case. For example:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/domain_mapping.html">domain_mapping</a></span><span class="op">(</span>json_file <span class="op">=</span> <span class="st">'path/your-json.json'</span>, domain_file <span class="op">=</span> <span class="st">'path/your-domains.csv'</span><span class="op">)</span></span></code></pre></div>
<p>Unlike in demo mode, it will ask you to specify the range of variables you want to process (start variable:end variable), because you can choose to process a table across multiple sessions (particularly useful if the table has a large number of data elements).</p>
<div class="section level4">
<h4 id="json-file">json file:<a class="anchor" aria-label="anchor" href="#json-file"></a>
</h4>
<ul>
<li>contains metadata about datasets of interest</li>
<li>downloaded from the metadata catalogue</li>
<li>see <a href="data-raw/national_community_child_health_database_(ncchd)_20240405T130125.json">data-raw/national_community_child_health_database_(ncchd)_20240405T130125.json</a> for an example download</li>
</ul>
</div>
<div class="section level4">
<h4 id="domain_file">domain_file:<a class="anchor" aria-label="anchor" href="#domain_file"></a>
</h4>
<ul>
<li>a csv file created by the user, with each domain listed on a separate line, no header</li>
<li>see <a href="data-raw/domain_list_demo.csv">data-raw/domain_list_demo.csv</a> for a template</li>
<li>the first 4 domains will be auto populated (see demo above)</li>
</ul>
</div>
<div class="section level4">
<h4 id="lookup-file">lookup file:<a class="anchor" aria-label="anchor" href="#lookup-file"></a>
</h4>
<ul>
<li>a <a href="dataraw/look_up.csv">default lookup file</a> is used by the domain_mapping function</li>
<li>optional: a csv can be created by the user (using the same format as the default) and provided as the input</li>
<li>the lookup file makes auto-categorisations intended for variables that come up regularly in health datasets (e.g.¬†IDs and demographics)</li>
<li>the lookup file only works for 1:1 mappings right now, i.e.¬†the DataElement should only be listed once in the lookup file</li>
</ul>
<p>#### output dir: - the path to the directory where the two csv output files will be saved. By default, the current working directory is used</p>
</div>
<div class="section level4">
<h4 id="table_copy">table_copy:<a class="anchor" aria-label="anchor" href="#table_copy"></a>
</h4>
<ul>
<li>default is TRUE, so set this to FALSE if you want to deactivate table copying</li>
<li>table copying means that the categorisations you make for the last table you processed will be carried over to this table, as long as the csv files share an output_dir</li>
<li>this can be useful because the same data elements (variables) appear across multiple tables within one dataset</li>
<li>copying from one table to the next will save the user time, and ensure consistency of categorisations across tables</li>
<li>the ‚ÄòNote‚Äô column in the output csv file will indicate that the categorisation has been copied and where from</li>
<li>a typical session could look like this:</li>
</ul>
<p><em>Run 1, select table ‚ÄòEXAM‚Äô</em></p>
<pre><code> domain_mapping()

‚Ñπ Running domain_mapping in demo mode using package data files
‚Ñπ Using the default look-up table in data/look-up.rda</code></pre>
<p><em>Run 2, select table ‚ÄòCHILD‚Äô (the function notices we have already run the table ‚ÄòEXAM‚Äô)</em></p>
<pre><code> domain_mapping()

‚Ñπ Running domain_mapping in demo mode using package data files
‚Ñπ Using the default look-up table in data/look-up.rda
...
‚Ñπ Copying from previous session: OUTPUT_NationalCommunityChildHealthDatabase(NCCHD)_EXAM_[datetime].csv</code></pre>
<p><em>Run 3, select table ‚ÄòREFR_IMM_VAC‚Äô (the function notices we have already run the table ‚ÄòCHILD‚Äô)</em></p>
<pre><code> domain_mapping()

‚Ñπ Running domain_mapping in demo mode using package data files
‚Ñπ Using the default look-up table in data/look-up.rda
...
‚Ñπ Copying from previous session: OUTPUT_NationalCommunityChildHealthDatabase(NCCHD)_CHILD_[datetime].csv</code></pre>
<p><em>And so on ‚Ä¶</em> Each run has the potential to be shorter for the user to complete because if there are the same data elements that appear across tables, the user will not be asked to categorise them twice.</p>
</div>
</div>
<div class="section level3">
<h3 id="potential-use-cases-for-the-output-files">Potential use-cases for the output files<a class="anchor" aria-label="anchor" href="#potential-use-cases-for-the-output-files"></a>
</h3>
<p>The csv output file containing the categorisation for each data element could be used as an input in later analysis steps to filter variables and visualise how each variable maps to research domains of interest.</p>
<p>Categorisations across researchers can be compared by using the function <a href="R/compare_sessions.R">R/compare_sessions.R</a>. Type <code>?compare__sessions</code> to read the manual on how to run this function. In brief, it compares csv outputs from two sessions, finds their differences, and asks for a consensus.</p>
</div>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>This project is licensed under the GNU General Public License v3.0 - see the <a href="LICENSE">LICENSE</a> file for details.</p>
<p>The GNU General Public License is a free, copyleft license for software and other kinds of works. For more information, please refer to <a href="https://www.gnu.org/licenses/gpl-3.0.en.html" class="external-link uri">https://www.gnu.org/licenses/gpl-3.0.en.html</a>.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>To cite package ‚ÄòbrowseMetadata‚Äô in publications use:</p>
<blockquote>
<p>Stickland R (2024). browseMetadata: Browses available metadata, to catergorise/label each variable in a dataset. R package version 1.0.0</p>
</blockquote>
<p>A BibTeX entry for LaTeX users is</p>
<pre><code>  @Manual{,
    title = {browseMetadata: Browses available metadata, to catergorise/label each variable in a dataset},
    author = {Rachael Stickland},
    year = {2024},
    note = {R package version 1.0.0},
    doi = {https://doi.org/10.5281/zenodo.10581500},
  }</code></pre>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>We warmly welcome contributions to the browseMetadata project. Whether it‚Äôs fixing bugs, adding new features, or improving documentation, we welcome your involvement.</p>
<ul>
<li>
<strong>Report Issues</strong>: If you find a bug or have a feature request, please report it via <a href="https://github.com/aim-rsf/browseMetadata/issues" class="external-link">GitHub Issues</a>.</li>
<li>
<strong>Submit Pull Requests</strong>: We welcome pull requests. Please read our <a href="https://github.com/aim-rsf/browseMetadata/blob/main/CONTRIBUTING.md" class="external-link">Contribution Guidelines</a> on how to make contributions.</li>
<li>
<strong>Feedback and Suggestions</strong>: We‚Äôre always looking to improve, and we value feedback and suggestions. Feel free to open an issue to share your thoughts.</li>
</ul>
<p>For more information on how to contribute, please refer to our <a href="https://github.com/aim-rsf/browseMetadata/blob/main/CONTRIBUTING.md" class="external-link">Contribution Guidelines</a>.</p>
<div class="section level3">
<h3 id="contributors-">Contributors ‚ú®<a class="anchor" aria-label="anchor" href="#contributors-"></a>
</h3>
<p>This project follows the <a href="https://github.com/all-contributors/all-contributors" class="external-link">all-contributors</a> specification, using the (<a href="https://allcontributors.org/docs/en/emoji-key" class="external-link">emoji key</a>). Contributions of any kind welcome!</p>
<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore-start -->
<!-- markdownlint-disable -->
<table class="table"><tbody><tr>
<td align="center" valign="top" width="14.28%">
<a href="http://linkedin.com/in/rstickland-phd" class="external-link"><img src="https://avatars.githubusercontent.com/u/50215726?v=4?s=100" width="100px;" alt="Rachael Stickland"><br><sub><b>Rachael Stickland</b></sub></a><br><a href="#content-RayStick" title="Content">üñã</a> <a href="https://github.com/aim-rsf/browseMetadata/commits?author=RayStick" title="Documentation" class="external-link">üìñ</a> <a href="#maintenance-RayStick" title="Maintenance">üöß</a> <a href="#ideas-RayStick" title="Ideas, Planning, &amp; Feedback">ü§î</a>
</td>
<td align="center" valign="top" width="14.28%">
<a href="https://batool-almarzouq.netlify.app/" class="external-link"><img src="https://avatars.githubusercontent.com/u/53487593?v=4?s=100" width="100px;" alt="Batool Almarzouq"><br><sub><b>Batool Almarzouq</b></sub></a><br><a href="#userTesting-BatoolMM" title="User Testing">üìì</a> <a href="https://github.com/aim-rsf/browseMetadata/pulls?q=is%3Apr+reviewed-by%3ABatoolMM" title="Reviewed Pull Requests" class="external-link">üëÄ</a> <a href="#ideas-BatoolMM" title="Ideas, Planning, &amp; Feedback">ü§î</a>
</td>
<td align="center" valign="top" width="14.28%">
<a href="https://github.com/Rainiefantasy" class="external-link"><img src="https://avatars.githubusercontent.com/u/43926907?v=4?s=100" width="100px;" alt="Mahwish Mohammad"><br><sub><b>Mahwish Mohammad</b></sub></a><br><a href="#userTesting-Rainiefantasy" title="User Testing">üìì</a> <a href="https://github.com/aim-rsf/browseMetadata/pulls?q=is%3Apr+reviewed-by%3ARainiefantasy" title="Reviewed Pull Requests" class="external-link">üëÄ</a> <a href="#ideas-Rainiefantasy" title="Ideas, Planning, &amp; Feedback">ü§î</a>
</td>
<td align="center" valign="top" width="14.28%">
<a href="https://github.com/DDelbarre" class="external-link"><img src="https://avatars.githubusercontent.com/u/108824056?v=4?s=100" width="100px;" alt="Daniel Delbarre"><br><sub><b>Daniel Delbarre</b></sub></a><br><a href="#ideas-DDelbarre" title="Ideas, Planning, &amp; Feedback">ü§î</a> <a href="#userTesting-DDelbarre" title="User Testing">üìì</a>
</td>
</tr></tbody></table>
<!-- markdownlint-restore --><!-- prettier-ignore-end --><!-- ALL-CONTRIBUTORS-LIST:END -->
</div>
<div class="section level3">
<h3 id="acknowledgements-">Acknowledgements ‚ú®<a class="anchor" aria-label="anchor" href="#acknowledgements-"></a>
</h3>
<p>Thank you to multiple members of the <a href="https://www.southampton.ac.uk/publicpolicy/support-for-policymakers/policy-projects/Current%20projects/meld-b.page" class="external-link">MELD-B research project</a> and the <a href="https://saildatabank.com/" class="external-link">SAIL Databank</a> team for providing use-cases of meta data browsing, ideas and feedback. Thank you to the <a href="https://web.www.healthdatagateway.org/search?search=&amp;datasetSort=latest&amp;tab=Datasets" class="external-link">Health Data Research Innovation Gateway</a> for hosting openly available metadata for health datasets, and for data providers that have included their datasets on this gateway.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing browseMetadata</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.turing.ac.uk/people/researchers/rachael-stickland" class="external-link">Rachael Stickland</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-3398-4272" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.turing.ac.uk/people/researchers/rachael-stickland" class="external-link">Rachael Stickland</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
